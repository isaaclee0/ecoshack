---
import ImageMod from "@/components/ImageMod.astro";

interface Props {
  images: string[];
  className?: string;
  columns?: number;
  mdColumns?: number;
  alt?: string;
}

const {
  images = [],
  className = "",
  columns = 2,
  mdColumns = 3,
  alt = "Gallery image",
}: Props = Astro.props as Props;
---
<div class={`columns-${columns} md:columns-${mdColumns} gap-4 ${className}`}>
  {
    images?.map((src: string, index: number) => (
      <figure class="group mb-4 break-inside-avoid overflow-hidden rounded-xl bg-white shadow-md hover:shadow-lg transition-shadow duration-300">
        <ImageMod
          src={src}
          alt={`${alt} ${index + 1}`}
          width={400}
          height={0}
          loading="lazy"
          format="webp"
          quality={85}
          widths={[300, 400, 600, 800]}
          sizes="(max-width: 768px) 50vw, (max-width: 1024px) 33vw, 25vw"
          class="w-full h-auto block"
        />
      </figure>
    ))
  }
</div>